{"variables": [], "instructions": [], "planning": "- 概述\n该功能块 `FT_PT2` 实现了一个二阶传递函数（PT2）的模拟。PT2系统常用于描述具有惯性或振荡特性的物理系统。该功能块通过输入信号 `in`、时间常数 `T`、阻尼系数 `D` 和增益 `K`，计算输出信号 `out`。\n\n- 变量定义\n代码中定义了以下几类变量：\n  - **输入变量**：`in`（输入信号）、`T`（时间常数）、`D`（阻尼系数）、`K`（增益，默认值为1.0）。\n  - **输出变量**：`out`（输出信号）。\n  - **内部变量**：`init`（初始化标志）、`int1` 和 `int2`（积分器实例）、`tn` 和 `tn2`（时间常数的转换值）、`I1` 和 `I2`（中间状态变量）。\n\n- 主逻辑部分\n  -- REGION 初始化逻辑\n     - 如果 `init` 为假（即首次运行）或时间常数 `T` 为0，则执行初始化逻辑：\n       - 将 `init` 设置为真，表示初始化完成。\n       - 直接计算输出 `out` 为 `K * in`，并将 `I2` 初始化为 `out`。\n     - 这个逻辑确保在首次运行或时间常数为0时，输出直接由输入和增益决定，跳过复杂的积分计算。\n\n  -- REGION 主计算逻辑\n     - 如果初始化已完成且时间常数 `T` 不为0，则执行主计算逻辑：\n       - 将时间常数 `T` 转换为实数 `tn`，并计算其平方值 `tn2`。\n       - 使用积分器 `int1` 计算中间变量 `I1`，其输入为 `in * K / tn2 - I1 * 0.5 * D / TN - I2 / TN2`。\n       - 使用积分器 `int2` 计算中间变量 `I2`，其输入为 `I1`。\n       - 最终输出 `out` 等于 `I2`。\n     - 该逻辑实现了二阶传递函数的模拟，通过两个积分器计算系统的动态响应。\n\n- 输出结果\n  - 输出信号 `out` 由主计算逻辑或初始化逻辑决定，具体取决于是否已完成初始化以及时间常数 `T` 的值。\n  - 如果时间常数 `T` 为0或未初始化，输出直接由输入和增益决定。\n  - 否则，输出通过二阶传递函数的动态计算得到，反映了系统的惯性或振荡特性。", "name": "FT_PT2"}