{"variables": [], "instructions": [], "planning": "- 概述\n这是一个名为`MANUAL_4`的功能块，用于控制四个输出（Q0, Q1, Q2, Q3）的状态。它支持手动和自动两种模式。在手动模式下，用户可以通过输入信号（M0, M1, M2, M3）直接控制输出，或者通过停止按钮（STP）切换输出状态。在自动模式下，输出直接由输入信号（I0, I1, I2, I3）控制。\n\n- 变量定义\n代码中定义了以下几类变量：\n - 输入变量：I0, I1, I2, I3（自动模式下的输入信号），MAN（手动模式开关），STP（停止按钮），M0, M1, M2, M3（手动模式下的输入信号）。\n - 输出变量：Q0, Q1, Q2, Q3（输出信号），STATUS（状态信息，用于指示当前操作模式或手动模式下的具体状态）。\n - 内部变量：edge（用于检测STP信号的上升沿），pos（用于记录手动模式下的输出切换位置），tog（用于指示手动模式下是否正在切换输出状态）。\n\n- 主逻辑部分\n-- REGION 手动模式\n    如果`MAN`为真，表示功能块处于手动模式。首先，检查`tog`是否为假。如果为假，则将手动输入信号（M0, M1, M2, M3）直接赋值给输出信号（Q0, Q1, Q2, Q3），并将`STATUS`设置为101，表示手动模式下输出由用户直接控制。然后，检查`STP`信号是否被按下（通过检测上升沿）。如果`STP`为真且`edge`为假，则开始切换输出状态。根据`pos`的值，依次将Q0, Q1, Q2, Q3中的一个置为真，其余置为假，并将`STATUS`设置为相应的值（110, 111, 112, 113）。最后，通过`INC`函数将`pos`的值递增，范围为0到3。\n\n-- REGION 自动模式\n    如果`MAN`为假，表示功能块处于自动模式。此时，将输入信号（I0, I1, I2, I3）直接赋值给输出信号（Q0, Q1, Q2, Q3），并将`STATUS`设置为100，表示自动模式下输出由输入信号控制。同时，重置`tog`为假，并将`pos`设置为0。\n\n-- REGION 边缘检测\n    在逻辑的最后，将`STP`的当前值赋值给`edge`，以便在下一个周期中检测`STP`信号的上升沿。\n\n- 总结\n该功能块通过`MAN`信号切换手动和自动模式。在手动模式下，用户可以通过`M0, M1, M2, M3`直接控制输出，或者通过`STP`按钮循环切换输出状态。在自动模式下，输出直接由`I0, I1, I2, I3`控制。`STATUS`用于指示当前的操作模式或手动模式下的具体状态。", "name": "MANUAL_4"}