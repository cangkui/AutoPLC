{"variables": [], "instructions": [], "planning": "- 概述\n这是一个名为 `CLICK_DEC` 的功能块，用于检测输入信号 `IN` 的点击次数，并根据点击次数输出相应的布尔信号 `Q0`、`Q1`、`Q2` 和 `Q3`。它通过一个定时器 `TP` 来限制点击的时间间隔，并使用一个计数器 `cnt` 来记录点击次数。\n\n- 变量定义\n代码中定义了以下几类变量：\n - 输入变量：`IN`（输入信号）和 `TC`（定时器的时间值）。\n - 输出变量：`Q0`、`Q1`、`Q2` 和 `Q3`（分别表示点击次数的输出信号）。\n - 内部变量：`tx`（定时器实例）、`edge`（用于检测输入信号的上升沿）和 `cnt`（计数器，初始值为 -1）。\n\n- 主逻辑部分\n-- REGION 输入信号处理\n   首先，如果输入信号 `IN` 为 `FALSE`，则将所有输出信号 `Q0`、`Q1`、`Q2` 和 `Q3` 重置为 `FALSE`。这是为了确保在没有输入信号时，输出信号保持无效状态。\n\n-- REGION 点击次数检测\n   如果输入信号 `IN` 为 `TRUE`，并且检测到上升沿（即 `edge` 为 `FALSE`），同时定时器 `tx` 的输出 `Q` 为 `FALSE`，则将计数器 `cnt` 初始化为 0，表示开始记录点击次数。\n\n   如果定时器 `tx` 的输出 `Q` 为 `TRUE`，并且输入信号 `IN` 为 `FALSE`，同时检测到下降沿（即 `edge` 为 `TRUE`），则将计数器 `cnt` 加 1，表示记录了一次点击。\n\n   如果定时器 `tx` 的输出 `Q` 为 `FALSE`，则根据当前的计数器值 `cnt` 设置相应的输出信号：\n   - 如果 `cnt` 为 0，则设置 `Q0` 为 `TRUE`。\n   - 如果 `cnt` 为 1，则设置 `Q1` 为 `TRUE`。\n   - 如果 `cnt` 为 2，则设置 `Q2` 为 `TRUE`。\n   - 如果 `cnt` 为 3，则设置 `Q3` 为 `TRUE`。\n   然后将计数器 `cnt` 重置为 -1，表示点击次数检测完成。\n\n-- REGION 边缘检测和定时器更新\n   使用 `edge := IN` 来检测输入信号的上升沿和下降沿。同时，调用定时器 `tx`，将输入信号 `IN` 和定时器的时间值 `TC` 传递给定时器实例。\n\n- 总结\n这个功能块通过检测输入信号的点击次数，并根据点击次数输出相应的信号。它使用定时器来限制点击的时间间隔，并通过计数器记录点击次数。每次点击完成后，计数器会根据点击次数设置相应的输出信号，并重置计数器以准备下一次检测。", "name": "CLICK_DEC"}