{"variables": [], "instructions": [], "planning": "- 概述\n此功能块名为“BUFFER_SEARCH”，用于在字节数组中搜索指定的字符串。它支持从指定位置开始搜索，并可以选择是否忽略大小写。如果找到匹配的字符串，则返回其起始位置；否则返回-1。\n\n- 变量定义\n代码中定义了以下几类变量：\n - 输入变量：PT（指向字节数组的指针）、SIZE（数组的大小）、STR（要搜索的字符串）、POS（搜索的起始位置）、IGN（是否忽略大小写）。\n - 局部变量：ps（指向字符串的指针）、chx（当前字节）、i（外层循环索引）、end（搜索的结束位置）、k（内层循环索引）、lx（字符串的长度）。\n\n- 主逻辑部分\n-- REGION 初始化\n   首先，获取字符串的地址并计算其长度。然后，计算搜索的结束位置，确保不会超出数组的范围。字符串的长度减1，以便后续比较。\n\n-- REGION 外层循环\n   从指定的起始位置（POS）开始，遍历字节数组直到结束位置（end）。对于每个位置，进入内层循环。\n\n-- REGION 内层循环\n   在内层循环中，逐个比较字节数组中的字符与字符串中的字符。如果IGN为真，则将字节数组中的字符转换为大写后再进行比较。如果字符不匹配，则退出内层循环。\n\n-- REGION 匹配检查\n   如果内层循环完全执行（即k > lx），则表示找到了匹配的字符串。此时，返回当前外层循环的索引（i）作为匹配的起始位置，并结束函数。\n\n-- REGION 未找到匹配\n   如果外层循环结束仍未找到匹配的字符串，则返回-1，表示未找到。\n\nEND_FUNCTION", "name": "BUFFER_SEARCH"}