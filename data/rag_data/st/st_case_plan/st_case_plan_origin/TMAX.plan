{"variables": [], "instructions": [], "planning": "- 概述\n这个功能块名为 `TMAX`，用于实现一个定时器功能。当输入信号 `IN` 为真时，定时器开始计时，并在达到预设时间 `PT` 后触发输出信号 `Q` 和 `Z`。`Q` 表示定时器正在运行，`Z` 表示定时器已完成计时。\n\n- 变量定义\n代码中定义了以下几类变量：\n - 输入变量：`IN`（启动定时器的信号），`PT`（预设的定时时间）。\n - 输出变量：`Q`（定时器正在运行的信号），`Z`（定时器完成计时的信号）。\n - 内部变量：`tx`（当前时间），`start`（定时器启动时间），`last_in`（上一个周期的 `IN` 信号状态）。\n\n- 主逻辑部分\n-- REGION 主逻辑\n   - 首先，获取当前时间并存储在变量 `tx` 中。\n   - 初始化输出 `Z` 为 `FALSE`，表示定时器尚未完成计时。\n   - 如果 `IN` 为 `FALSE`，则停止定时器，将 `Q` 设置为 `FALSE`。\n   - 如果 `IN` 为 `TRUE` 且上一个周期 `IN` 为 `FALSE`（即 `IN` 信号的上升沿），则启动定时器，将 `Q` 设置为 `TRUE`，并记录当前时间作为定时器的启动时间 `start`。\n   - 如果当前时间 `tx` 减去启动时间 `start` 大于或等于预设时间 `PT`，并且 `Q` 为 `TRUE`，则停止定时器，将 `Q` 设置为 `FALSE`，并将 `Z` 设置为 `TRUE`，表示定时器已完成计时。\n   - 最后，更新 `last_in` 为当前 `IN` 信号的状态，以便在下个周期中进行边缘检测。", "name": "TMAX"}