{"variables": [], "instructions": [], "planning": "- 概述\n  这个功能块名为 `GEN_SQ`，用于生成一个方波信号。其输出的 `Q` 信号会根据输入的时间参数 `PT` 在高电平和低电平之间切换。功能块通过记录当前时间和上一次切换时间来实现方波的生成。\n\n- 变量定义\n  代码中定义了以下几类变量：\n  - 输入变量：`PT`，表示方波的周期（高电平和低电平的总时间）。\n  - 输出变量：`Q`，表示生成的方波信号（布尔值，高电平为 `TRUE`，低电平为 `FALSE`）。\n  - 内部变量：\n    - `tn`：记录上一次切换时间的时间戳（以毫秒为单位）。\n    - `tx`：记录当前时间的时间戳（以毫秒为单位）。\n    - `init`：初始化标志，用于标识功能块是否已初始化。\n\n- 主逻辑部分\n  -- REGION 初始化逻辑\n    功能块首先获取当前时间 `tx`，并将其存储在变量中。如果功能块尚未初始化（即 `init` 为 `FALSE`），则进行初始化操作：\n    - 将 `init` 设置为 `TRUE`，表示功能块已初始化。\n    - 将 `tn` 设置为当前时间 `tx`，作为初始时间戳。\n    - 将输出 `Q` 设置为 `TRUE`，表示方波的初始状态为高电平。\n\n  -- REGION 方波生成逻辑\n    如果功能块已初始化，则检查当前时间 `tx` 与上一次切换时间 `tn` 的差值是否大于等于半个周期（即 `PT / 2`）：\n    - 如果条件满足，则切换输出 `Q` 的状态（从 `TRUE` 变为 `FALSE` 或从 `FALSE` 变为 `TRUE`）。\n    - 同时，更新上一次切换时间 `tn` 为 `tn + PT / 2`，以确保下一次切换在正确的时间发生。\n\n- 输出结果\n  功能块的输出 `Q` 会根据输入的时间参数 `PT` 在高电平和低电平之间周期性地切换，从而生成一个方波信号。方波的周期为 `PT`，高电平和低电平的持续时间均为 `PT / 2`。", "name": "GEN_SQ"}