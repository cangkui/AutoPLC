{"variables": [], "instructions": [], "planning": "- 概述\n  该功能块 `MESSAGE_4R` 用于在四个字符串消息之间循环切换，并根据时钟信号和定时器逻辑选择当前显示的消息。它通过输入信号 `ENQ` 控制功能块的使能，并通过定时器 `TON` 实现消息切换的时间控制。\n\n- 变量定义\n  代码中定义了以下几类变量：\n  - 输入变量：`M0`、`M1`、`M2`、`M3` 是四个字符串消息，`MM` 是消息的最大索引值，`ENQ` 是使能信号，`CLK` 是时钟信号，`T1` 是定时器的时间设定值。\n  - 输出变量：`MX` 是当前显示的字符串消息，`MN` 是当前消息的索引，`TR` 是切换标志。\n  - 内部变量：`timer` 是一个 `TON` 定时器实例，用于控制消息切换的时间间隔；`edge` 用于检测时钟信号的上升沿。\n\n- 主逻辑部分\n  -- REGION 消息切换逻辑\n     - 首先，将切换标志 `TR` 初始化为 `FALSE`。\n     - 如果使能信号 `ENQ` 为 `TRUE`，则进入消息切换逻辑：\n       - 检测时钟信号 `CLK` 的上升沿（通过 `edge` 变量）或定时器 `timer` 的输出 `q` 是否为 `TRUE`。如果是，则执行以下操作：\n         1. 使用 `INC1` 函数递增当前消息索引 `MN`，并根据最大值 `MM` 进行循环。\n         2. 将切换标志 `TR` 设置为 `TRUE`，表示发生了消息切换。\n         3. 重置定时器 `timer` 的输入为 `FALSE`。\n         4. 根据当前消息索引 `MN`，从 `M0`、`M1`、`M2`、`M3` 中选择对应的消息赋值给 `MX`。\n       - 更新 `edge` 变量以记录当前时钟信号的状态。\n       - 启动定时器 `timer`，其输入为 `CLK`，时间设定值为 `T1`。\n     - 如果使能信号 `ENQ` 为 `FALSE`，则重置输出变量：\n       - 将 `MX` 设置为空字符串。\n       - 将 `MN` 重置为 `0`。", "name": "MESSAGE_4R"}