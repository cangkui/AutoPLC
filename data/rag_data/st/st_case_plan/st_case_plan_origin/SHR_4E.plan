{"variables": [], "instructions": [], "planning": "- 概述  \n  这段代码实现了一个4位移位寄存器功能块，名为`SHR_4E`。它通过输入信号`SET`、`D0`、`CLK`和`RST`来控制输出`Q0`、`Q1`、`Q2`和`Q3`的状态。功能块的核心逻辑是在时钟上升沿时进行数据移位操作，同时支持复位和置位功能。\n\n- 变量定义  \n  代码中定义了以下几类变量：  \n  - **输入变量**：`SET`（置位信号）、`D0`（数据输入）、`CLK`（时钟信号）、`RST`（复位信号）。  \n  - **输出变量**：`Q0`、`Q1`、`Q2`、`Q3`（4位输出信号）。  \n  - **内部变量**：`trig`（上升沿检测触发器，用于检测时钟信号的上升沿）。\n\n- 主逻辑部分  \n  -- REGION 上升沿检测  \n  使用`R_TRIG`功能块检测时钟信号`CLK`的上升沿。`R_TRIG`的输出`Q`会在检测到上升沿时变为`TRUE`，用于触发移位操作。  \n\n  -- REGION 复位和置位逻辑  \n  如果`RST`或`SET`信号为`TRUE`，则执行复位或置位操作：  \n  - 如果`RST`为`TRUE`，则所有输出`Q0`、`Q1`、`Q2`、`Q3`被置为`FALSE`。  \n  - 如果`SET`为`TRUE`，则所有输出`Q0`、`Q1`、`Q2`、`Q3`被置为`TRUE`。  \n\n  -- REGION 移位逻辑  \n  如果检测到时钟上升沿（`trig.Q`为`TRUE`），则执行移位操作：  \n  - `Q3`的值被更新为`Q2`的当前值。  \n  - `Q2`的值被更新为`Q1`的当前值。  \n  - `Q1`的值被更新为`Q0`的当前值。  \n  - `Q0`的值被更新为输入`D0`的当前值。  \n\n  这种移位操作将输入数据`D0`逐步传递到`Q0`、`Q1`、`Q2`和`Q3`，实现了一个4位移位寄存器的功能。  \n\n- 总结  \n  该功能块的核心功能是通过时钟信号控制数据的移位操作，同时支持复位和置位功能。它适用于需要将数据按位传递的场景，例如流水线操作或状态机的实现。", "name": "SHR_4E"}