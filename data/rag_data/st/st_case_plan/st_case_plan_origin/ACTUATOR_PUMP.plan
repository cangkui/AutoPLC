{"variables": [], "instructions": [], "planning": "- 概述\n  该功能块 `ACTUATOR_PUMP` 用于控制泵的运行逻辑。它支持手动和自动控制模式，并确保泵在启动和停止时满足最小运行时间和最小停止时间的要求。此外，它还支持周期性运行功能，并记录泵的运行时间和运行周期。\n\n- 变量定义\n  代码中定义了以下几类变量：\n  - 输入变量：`IN`（自动控制信号）、`MANUAL`（手动控制信号）、`RST`（复位信号）、`MIN_ONTIME`（最小运行时间）、`MIN_OFFTIME`（最小停止时间）、`RUN_EVERY`（周期性运行间隔）。\n  - 输出变量：`PUMP`（泵的运行状态）。\n  - 输入输出变量：`RUNTIME`（泵的总运行时间）、`CYCLES`（泵的运行周期数）。\n  - 内部变量：`tx`（当前时间）、`last_change`（上一次状态变化的时间）、`meter`（用于记录运行时间和周期数的对象）、`old_man`（上一次手动控制信号的状态）、`init`（初始化标志）。\n\n- 主逻辑部分\n  -- REGION 初始化\n    在功能块首次运行时，初始化内部变量 `init` 为 `TRUE`，并记录当前时间到 `last_change` 中。如果接收到复位信号 `RST`，则重置 `RUNTIME` 和 `CYCLES` 为 0。\n\n  -- REGION 手动控制\n    如果 `MANUAL` 信号为真且泵当前未运行，并且 `MANUAL` 信号的状态发生了变化（从假变为真），则启动泵，并记录当前时间到 `last_change` 中。如果 `MANUAL` 信号为假且泵当前运行，并且 `IN` 信号为假，则停止泵，并记录当前时间到 `last_change` 中。\n\n  -- REGION 自动控制\n    如果 `IN` 信号为真且泵当前未运行，并且满足最小停止时间 `MIN_OFFTIME` 的要求，则启动泵，并记录当前时间到 `last_change` 中。如果泵当前运行且 `IN` 信号为假，并且满足最小运行时间 `MIN_ONTIME` 的要求，则停止泵，并记录当前时间到 `last_change` 中。\n\n  -- REGION 周期性运行\n    如果泵当前未运行，并且距离上一次状态变化的时间超过了周期性运行间隔 `RUN_EVERY`，则启动泵，并记录当前时间到 `last_change` 中。\n\n  -- REGION 记录运行时间和周期数\n    使用 `meter` 对象记录泵的运行时间和运行周期数。`meter` 的输入为泵的运行状态 `PUMP`，输出为 `RUNTIME` 和 `CYCLES`。\n\n  -- REGION 更新手动控制信号状态\n    将当前的 `MANUAL` 信号状态保存到 `old_man` 中，以便在下一次循环中检测状态变化。", "name": "ACTUATOR_PUMP"}