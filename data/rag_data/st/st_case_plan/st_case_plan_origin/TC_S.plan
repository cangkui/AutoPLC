{"variables": [], "instructions": [], "planning": "- 概述\n  这段代码是一个简单的功能块，名为“TC_S”，用于计算自上次调用以来的时间间隔，并将结果以秒为单位输出。该功能块使用系统时间函数来获取当前时间，并通过计算时间差来输出时间间隔。\n\n- 变量定义\n  代码中定义了以下几类变量：\n  - 输出变量：TC，表示计算出的时间间隔（以秒为单位）。\n  - 内部变量：\n    - init：布尔类型，用于标识功能块是否已初始化。\n    - tx：DWORD类型，存储当前时间戳。\n    - last：DWORD类型，存储上一次调用时的时间戳。\n\n- 主逻辑部分\n  -- REGION 初始化与时间计算\n     功能块的逻辑分为两个部分：初始化和时间计算。\n     1. **初始化**：\n        - 使用系统函数 `T_PLC_US()` 获取当前时间戳，并将其存储在变量 `tx` 中。\n        - 如果 `init` 为 `FALSE`，表示功能块尚未初始化，此时将 `init` 设置为 `TRUE`，并将输出变量 `TC` 初始化为 `0.0`。\n     2. **时间计算**：\n        - 如果 `init` 为 `TRUE`，表示功能块已初始化，此时计算当前时间戳 `tx` 与上一次时间戳 `last` 的差值，并将差值转换为秒（乘以 `1.0E-6`），结果存储在输出变量 `TC` 中。\n        - 最后，将当前时间戳 `tx` 存储到 `last` 中，以便在下一次调用时使用。\n\n  -- REGION 输出\n     功能块的输出是变量 `TC`，它表示自上次调用以来的时间间隔（以秒为单位）。该值会在每次调用时更新。\n\n- 总结\n  该功能块的主要作用是通过系统时间函数计算两次调用之间的时间间隔，并以秒为单位输出。它通过初始化标志 `init` 确保在第一次调用时正确初始化，并通过存储上一次的时间戳 `last` 来计算时间差。这种功能块常用于需要监控时间间隔的场合，例如周期任务的执行时间测量。", "name": "TC_S"}