{"variables": [], "instructions": [], "planning": "- 概述\n  此函数名为 `LAMBERT_W`，用于计算 Lambert W 函数的值。Lambert W 函数是数学中的一种特殊函数，定义为满足方程 \\( W(x) \\cdot e^{W(x)} = x \\) 的解。该函数通过迭代法逼近 Lambert W 的值，并根据输入值 \\( x \\) 的范围采用不同的初始估计和迭代策略。\n\n- 变量定义\n  代码中定义了以下几类变量：\n  - 输入变量：`X`，表示 Lambert W 函数的输入值。\n  - 内部变量：\n    - `w`：用于存储迭代过程中的 Lambert W 值。\n    - `i`：用于控制迭代次数的计数器。\n    - `we`：用于存储中间计算结果 \\( W(x) \\cdot e^{W(x)} - x \\)。\n    - `w1e`：用于存储中间计算结果 \\( (W(x) + 1) \\cdot e^{W(x)} \\)。\n    - `last`：用于存储上一次迭代结果的截断值，用于判断收敛。\n    - `ewx`：用于存储 \\( e^{W(x)} \\) 的值。\n\n- 主逻辑部分\n  -- REGION 输入验证和初始化\n    - 如果输入值 \\( x < -0.367879441171442 \\)，则直接返回 -1000.0，因为 Lambert W 函数在此范围内无实数解。\n    - 如果输入值 \\( x = 0.0 \\)，则直接返回 0.0，因为 Lambert W 函数在 \\( x = 0 \\) 时的值为 0。\n    - 如果输入值 \\( x \\leq 500.0 \\)，则使用近似公式初始化 \\( w \\)：\n      \\[\n      w = \\ln(x + 1.0) \\cdot 0.665 \\cdot (1.0 + 0.0195 \\cdot \\ln(x + 1.0)) + 0.04\n      \\]\n    - 如果输入值 \\( x > 500.0 \\)，则使用另一种近似公式初始化 \\( w \\)：\n      \\[\n      w = \\ln(x - 4.0) - \\left(1.0 - \\frac{1.0}{\\ln(x)}\\right) \\cdot \\ln(\\ln(x))\n      \\]\n\n  -- REGION 迭代计算\n    - 使用 Newton-Raphson 迭代法优化 \\( w \\) 的值，迭代次数最多为 6 次。\n    - 在每次迭代中：\n      - 计算 \\( e^{w} \\) 并存储在 `ewx` 中。\n      - 计算 \\( w \\cdot e^{w} - x \\) 并存储在 `we` 中。\n      - 计算 \\( (w + 1.0) \\cdot e^{w} \\) 并存储在 `w1e` 中。\n      - 更新 \\( w \\) 的值：\n        \\[\n        w = w - \\frac{we}{w1e - \\frac{(w + 2.0) \\cdot we}{2.0 \\cdot w + 2.0}}\n        \\]\n      - 检查 \\( w \\) 的值是否收敛（即是否与上一次迭代的截断值相同）。如果收敛，则提前退出迭代。\n\n  -- REGION 返回结果\n    - 将最终的 \\( w \\) 值作为 Lambert W 函数的计算结果返回。", "name": "LAMBERT_W"}