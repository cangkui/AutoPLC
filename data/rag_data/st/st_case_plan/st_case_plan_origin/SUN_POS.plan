{"variables": [], "instructions": [], "planning": "- 概述\n该功能块名为 `SUN_POS`，用于计算给定地理位置（纬度和经度）和世界时间（UTC）下的太阳位置。输出包括太阳的方位角（B）、太阳高度角（H）以及考虑大气折射后的太阳高度角（HR）。\n\n- 变量定义\n代码中定义了以下几类变量：\n  - 输入变量：纬度（latitude）、经度（longitude）、世界时间（utc）。\n  - 输出变量：太阳方位角（B）、太阳高度角（H）、考虑折射后的太阳高度角（HR）。\n  - 内部变量：用于中间计算的各种变量，如地球自转角度（g）、太阳赤纬（d）、黄赤交角（e）、时角（tau）等。\n\n- 主逻辑部分\n  -- REGION 计算太阳位置：\n    1. **时间相关计算**：\n       - 计算从基准时间（2000年1月1日）到当前时间的天数（n）。\n       - 计算地球自转角度（g）和太阳赤纬（d）。太阳赤纬的计算考虑了地球轨道的椭圆性和季节性变化。\n       - 计算黄赤交角（e），表示地球自转轴与黄道面的倾斜角度。\n\n    2. **太阳赤纬和时角计算**：\n       - 计算太阳赤纬的正弦和余弦值（sin_d, cos_d）。\n       - 计算太阳的赤经（a），表示太阳在赤道坐标系中的位置。\n       - 计算太阳的赤纬（c），表示太阳在赤道坐标系中的高度。\n\n    3. **时角计算**：\n       - 计算时角（tau），表示太阳相对于当地子午线的角度。时角的计算考虑了经度和时间的影响。\n\n    4. **太阳高度角和方位角计算**：\n       - 计算太阳高度角（h），表示太阳相对于地平线的角度。\n       - 计算太阳方位角（B），表示太阳相对于正北方向的角度。\n       - 如果太阳高度角超过180度，则通过减去360度来调整其范围。\n\n    5. **考虑大气折射的太阳高度角计算**：\n       - 调用 `REFRACTION` 函数，根据太阳高度角（h）计算大气折射的影响，并将其加到太阳高度角上，得到考虑折射后的太阳高度角（HR）。\n\n- 总结\n该功能块通过一系列天文公式和数学计算，准确地计算出给定地理位置和时间下的太阳位置。输出结果包括太阳的方位角和高度角，并考虑了大气折射的影响，适用于需要太阳位置信息的应用场景，如太阳能系统设计、天文观测等。", "name": "SUN_POS"}