{"variables": [], "instructions": [], "planning": "- 概述\n  该功能块名为 `RMP_W`，用于实现一个斜坡函数。它根据输入信号控制输出值从 0 到 65535 的线性变化，并提供状态指示（如是否处于低值、高值或变化中）。\n\n- 变量定义\n  代码中定义了以下几类变量：\n  - 输入变量：`SET`（设置输出为最大值）、`PT`（斜坡时间）、`E`（使能信号）、`UP`（控制方向，上升或下降）、`RST`（复位信号）。\n  - 输出变量：`out`（当前输出值）、`busy`（表示是否正在变化）、`high`（表示是否达到最大值）、`low`（表示是否达到最小值）。\n  - 内部变量：`rmp`（用于实现斜坡功能的结构体）。\n\n- 主逻辑部分\n  -- REGION 斜坡控制\n     - 使用 `rmp` 结构体实现斜坡功能。`rmp` 的输入参数包括：\n       - `dir`：由 `UP` 控制，决定斜坡方向（上升或下降）。\n       - `E`：使能信号，控制斜坡功能是否运行。\n       - `TR`：斜坡时间，由 `PT` 提供。\n       - `rmp`：输出值，映射到 `out`。\n     - 如果 `RST` 为真，则将输出 `out` 复位为 0。\n     - 如果 `SET` 为真，则将输出 `out` 设置为最大值 65535。\n\n  -- REGION 状态指示\n     - `low`：当 `out` 为 0 时，`low` 为真。\n     - `high`：当 `out` 为 65535 时，`high` 为真。\n     - `busy`：当 `out` 既不为 0 也不为 65535，且使能信号 `E` 为真时，`busy` 为真，表示斜坡功能正在运行。\n\n- 总结\n  该功能块通过 `rmp` 结构体实现斜坡功能，支持上升和下降两种方向，并提供复位和直接设置最大值的功能。输出状态通过 `low`、`high` 和 `busy` 指示，方便外部逻辑判断当前状态。", "name": "RMP_W"}