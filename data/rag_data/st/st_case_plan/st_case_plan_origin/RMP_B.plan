{"variables": [], "instructions": [], "planning": "- 概述\n  这段代码定义了一个名为 `RMP_B` 的功能块，用于实现一个斜坡函数（Ramp Function）。该功能块根据输入信号控制输出值从 0 到 255 的变化，同时提供状态信号（如 `BUSY`、`HIGH`、`LOW`）来指示当前输出状态。\n\n- 变量定义\n  代码中定义了以下几类变量：\n  - **输入变量**：\n    - `SET`：用于将输出直接设置为最大值（255）。\n    - `PT`：指定斜坡函数的时间（即从 0 到 255 所需的时间）。\n    - `E`：使能信号，控制斜坡函数是否运行。\n    - `UP`：方向信号，控制斜坡函数是上升（从 0 到 255）还是下降（从 255 到 0）。\n    - `RST`：复位信号，用于将输出直接设置为 0。\n  - **输出变量**：\n    - `OUT`：斜坡函数的输出值，范围为 0 到 255。\n    - `BUSY`：指示斜坡函数是否正在运行（即输出值既不为 0 也不为 255）。\n    - `HIGH`：指示输出值是否达到最大值（255）。\n    - `LOW`：指示输出值是否为最小值（0）。\n  - **内部变量**：\n    - `rmp`：用于调用斜坡函数的核心逻辑。\n\n- 主逻辑部分\n  -- REGION 斜坡函数调用\n    在此区域中，调用内部斜坡函数 `rmp`，并传入相关参数：\n    - `dir`：方向信号，由输入 `UP` 提供。\n    - `E`：使能信号，由输入 `E` 提供。\n    - `TR`：时间参数，由输入 `PT` 提供。\n    - `rmp`：输出值，直接映射到 `OUT`。\n\n  -- REGION 复位和设置逻辑\n    在此区域中，处理复位和设置逻辑：\n    - 如果 `RST` 为真，则将输出 `OUT` 直接设置为 0。\n    - 如果 `SET` 为真，则将输出 `OUT` 直接设置为 255。\n\n  -- REGION 状态信号更新\n    在此区域中，更新状态信号：\n    - `LOW`：当输出 `OUT` 为 0 时，`LOW` 为真。\n    - `HIGH`：当输出 `OUT` 为 255 时，`HIGH` 为真。\n    - `BUSY`：当输出 `OUT` 既不为 0 也不为 255，且使能信号 `E` 为真时，`BUSY` 为真。\n\n- 总结\n  该功能块通过调用内部斜坡函数 `rmp`，实现了从 0 到 255 的平滑过渡，并提供了复位、设置和状态指示功能。用户可以通过输入信号控制斜坡函数的方向、时间和启停，同时通过输出信号监控当前状态。", "name": "RMP_B"}