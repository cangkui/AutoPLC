{"variables": [], "instructions": [], "planning": "- 概述\n该功能块 `F_LAMP` 用于控制一个灯具的行为，包括开关、调光、重置、计时和维护提醒等功能。它根据输入信号和计时逻辑来控制灯具的亮度，并输出状态信息。\n\n- 变量定义\n代码中定义了以下几类变量：\n  - 输入变量：`SWITCH`（开关控制）、`DIMM`（调光值）、`RST`（重置信号）、`T_NO_DIMM`（无调光时间阈值）、`T_MAINTENANCE`（维护时间阈值）。\n  - 输出变量：`LAMP`（灯具亮度值）、`STATUS`（灯具状态）。\n  - 输入输出变量：`ONTIME`（灯具运行时间）、`CYCLES`（灯具运行周期）。\n  - 内部变量：`runtime`（用于记录灯具运行时间的实例）。\n\n- 主逻辑部分\n  -- REGION 运行时间记录\n    使用 `runtime` 实例记录灯具的运行时间和周期。`runtime` 是一个计时器功能块，当 `SWITCH` 为真时，它会累加 `ONTIME`（运行时间）和 `CYCLES`（运行周期）。\n\n  -- REGION 重置逻辑\n    如果 `RST` 信号为真，则将 `ONTIME` 和 `CYCLES` 重置为 0，清除灯具的运行时间和周期记录。\n\n  -- REGION 灯具控制逻辑\n    如果 `SWITCH` 为真，表示灯具处于开启状态：\n      - 如果运行时间 `ONTIME` 小于 `T_NO_DIMM` 乘以 3600（将小时转换为秒），则灯具亮度 `LAMP` 设置为最大值 255，状态 `STATUS` 设置为 111（表示灯具处于全亮状态）。\n      - 如果运行时间 `ONTIME` 大于或等于 `T_NO_DIMM` 乘以 3600，则灯具亮度 `LAMP` 设置为输入值 `DIMM`，状态 `STATUS` 设置为 112（表示灯具处于调光状态）。\n    如果 `SWITCH` 为假，表示灯具处于关闭状态，则灯具亮度 `LAMP` 设置为 0，状态 `STATUS` 设置为 110（表示灯具关闭）。\n\n  -- REGION 维护提醒逻辑\n    如果运行时间 `ONTIME` 大于或等于 `T_MAINTENANCE` 乘以 3600，并且 `T_MAINTENANCE` 大于 0，则状态 `STATUS` 设置为 120（表示灯具需要维护）。\n\n- 总结\n该功能块通过计时器和状态逻辑实现了对灯具的开关、调光、重置和维护提醒功能。它根据运行时间和输入信号动态调整灯具的亮度和状态，并输出相应的信息。这种设计适用于需要精确控制灯具运行状态的场景，例如工业照明或自动化系统中的灯具管理。", "name": "F_LAMP"}