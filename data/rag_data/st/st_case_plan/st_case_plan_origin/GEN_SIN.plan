{"variables": [], "instructions": [], "planning": "- 概述\n这个功能块名为 `GEN_SIN`，用于生成正弦波信号。它接受周期时间（`PT`）、振幅（`AM`）、偏移量（`OS`）和延迟（`DL`）作为输入，并输出一个布尔值（`Q`）和一个实数值（`Out`）。正弦波的生成基于当前时间和周期时间，同时考虑了振幅、偏移量和延迟的影响。\n\n- 变量定义\n代码中定义了以下几类变量：\n  - 输入变量：`PT`（周期时间）、`AM`（振幅）、`OS`（偏移量）、`DL`（延迟）。\n  - 输出变量：`Q`（布尔值，表示正弦波的相位反转）、`Out`（实数值，表示当前正弦波的输出值）。\n  - 内部变量：`tx`（当前时间与上一次记录时间的差值）、`last`（上一次记录的时间）、`init`（初始化标志）、`temp`（临时存储的正弦值）。\n\n- 主逻辑部分\n  -- REGION 初始化\n     - 首先，计算当前时间与上一次记录时间的差值 `tx`。\n     - 对延迟 `DL` 进行处理，确保其值在 0.0 到 1.0 之间。如果 `DL` 为负数，则将其调整为 1.0 减去其绝对值。\n     - 如果 `init` 为假（即未初始化），则进行初始化操作：\n       - 将 `init` 设置为真，表示已完成初始化。\n       - 将 `last` 设置为当前时间，`tx` 设置为 0 秒。\n\n  -- REGION 时间处理\n     - 如果 `tx` 大于或等于周期时间 `PT`，则更新 `last` 为 `last + PT`，并减少 `tx` 的值，使其保持在当前周期内。\n\n  -- REGION 正弦波生成\n     - 如果周期时间 `PT` 大于 0 秒，则计算正弦值 `temp`：\n       - 使用 `SIN` 函数生成正弦波，其相位由 `tx` 和 `DL` 决定，频率由 `PT` 决定。\n     - 计算输出值 `Out`：\n       - 将正弦值 `temp` 乘以振幅 `AM` 的一半，再加上偏移量 `OS`。\n     - 计算布尔输出 `Q`：\n       - 如果 `temp` 为负数，则 `Q` 为真；否则为假。\n\n- 总结\n`GEN_SIN` 功能块通过周期时间、振幅、偏移量和延迟生成正弦波信号，并输出当前正弦波的实数值和相位反转的布尔值。它使用时间差值和周期时间来计算正弦波的相位，并通过振幅和偏移量调整输出范围。布尔输出 `Q` 用于指示正弦波的相位反转情况。", "name": "GEN_SIN"}