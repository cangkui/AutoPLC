Natural Language Requirements:  
{"variables": [], "instructions": [], "planning": "- Overview\nThis code is a function block written in SCL, named 'HEAT_METER', designed for heat calculation. It computes heat based on input parameters such as temperature, flow rate, etc., and outputs the result. The function block also supports pulse mode and average time calculation.\n\n- Variable Definitions\nThe code defines the following types of variables:\n - Input variables: Forward temperature (TF), Return temperature (TR), Flow rate (LPH), Enable (E), Reset (RST), Specific heat capacity (CP), Density (Density), Content (Content), Pulse mode (Pulse_Mode), Return meter (Return_meter), Average time (AVG_time)\n - Output variables: Heat (C)\n - Input/output variables: Accumulated heat value (Y)\n - Internal variables: Timestamp (tx), Last timestamp (last), Integrator (int1), Edge detection (edge), Intermediate heat calculation value (x), Initialization flag (init), Last accumulated heat value (y_last)\n\n- Main Logic\n-- REGION Reset Logic\n   If the reset signal (RST) is true, the integrator (int1) is reset, and both the heat output (C) and accumulated heat value (Y) are cleared. After reset, the reset signal is cleared.\n-- REGION Heat Calculation\n   If the enable signal (E) is true, the intermediate heat value (X) is calculated based on input temperature, flow rate, specific heat capacity, density, and content. The formula accounts for water density, enthalpy, and the contributions of specific heat capacity and density.\n-- REGION Integrator Logic\n   If pulse mode (Pulse_Mode) is false and the enable signal (E) is true, the integrator (int1) is used to integrate the intermediate heat value (X), and the result is assigned to the accumulated heat value (Y). If pulse mode is true, the intermediate heat value (X) is multiplied by the flow rate (LPH) and added to the accumulated heat value (Y) on the rising edge of the enable signal.\n-- REGION Edge Detection\n   The edge detection variable (edge) is used to track changes in the state of the enable signal (E).\n-- REGION Timestamp Handling\n   The current timestamp (tx) is retrieved, and initialization is checked. If not initialized, the timestamp (last) is initialized. If the difference between the current timestamp and the last timestamp is greater than or equal to the average time (AVG_time), the last timestamp (last) is updated, and the average heat output (C) is calculated. The formula considers the change in accumulated heat value (Y) and the average time.\n-- REGION Output Update\n   The heat output (C) and accumulated heat value (Y) are updated based on the calculation results.\n\nEND_FUNCTION_BLOCK", "name": "HEAT_METER"}