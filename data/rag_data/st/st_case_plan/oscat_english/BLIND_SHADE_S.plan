Natural Language Requirements:  
{"variables": [], "instructions": [], "planning": "- Overview\nThis functional block, named `BLIND_SHADE_S`, is used to control the opening and closing actions of curtains or blinds. It determines the state of the curtains based on input signals (such as manual control, sun position, time, etc.) and outputs corresponding control signals and status information.\n\n- Variable Definitions\nThe code defines the following types of variables:\n - Input variables: Include curtain raise (UP) and lower (DN) signals, input state (S_IN), position input (PI), enable signal (ENABLE), sun signal (SUN), horizontal angle range (HORZ1, HORZ2), vertical angle (VERT), alarm signal (ALERT), sunrise offset time (sunrise_offset), sunset preset time (sunset_preset), curtain delay time (shade_delay), and curtain position (shade_pos).\n - Input/output variables: Calendar information (CX), used to obtain the current time and sun position.\n - Output variables: Include raise output (QU), lower output (QD), status output (STATUS), and position output (PO).\n - Internal variables: Sun delay timer (sun_delay), used to delay the response to the sun signal.\n\n- Main Logic Section\n-- REGION Sun Delay Timer\n   First, the `sun_delay` timer is used to delay the processing of the sun signal. The timer's input is the `sun` signal, and the delay time is `shade_delay`. The timer's output `sun_delay.Q` indicates whether the sun signal delay has completed.\n\n-- REGION Alarm Handling\n   If the `ALERT` signal is true, the curtain is forced to rise (`QU := TRUE`), lowering is stopped (`QD := FALSE`), and the status is set to 152.\n\n-- REGION Sun Position and Time Conditions\n   If the following conditions are met:\n   - Both `UP` and `DN` signals are true,\n   - The `ENABLE` signal is true,\n   - The sun delay timer has completed (`sun_delay.Q` is true),\n   - The sun's horizontal position is between `HORZ1` and `HORZ2`,\n   - The sun's vertical position is less than `VERT`,\n   - The current time is after the sunrise offset time and before the sunset preset time,\n   then the curtain's raise and lower actions are controlled based on the `UP` and `DN` signals (`QU := UP; QD := DN`), and the status is set to 151. Additionally, the position output `PO` is the minimum value between `PI` and `shade_pos`.\n\n-- REGION Default Handling\n   If none of the above conditions are met, the curtain's raise and lower actions are directly controlled by the `UP` and `DN` signals (`QU := UP; QD := DN`). The position output `PO` is set to `PI`, and the status output `STATUS` is set to the input state `S_IN`.\n\n- Summary\nThis functional block intelligently controls the opening and closing actions of curtains by combining manual control signals, sun position information, and time conditions. It uses a timer to delay the response to the sun signal and outputs corresponding control signals and status information based on different conditions.", "name": "BLIND_SHADE_S"}