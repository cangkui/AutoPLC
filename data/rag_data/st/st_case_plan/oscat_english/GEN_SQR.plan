Natural Language Requirements:  
{"variables": [], "instructions": [], "planning": "- Overview\n  This code is a function block written in SCL, named 'GEN_SQR', designed to generate a square wave signal. The square wave's period, amplitude, offset, duty cycle, and delay time can be configured via input parameters. The outputs include a Boolean signal Q and a real value Out, representing the square wave's state and current output value, respectively.\n\n- Variable Definitions\n  The code defines the following types of variables:\n  - Input variables: Period time (PT), Amplitude (AM), Offset (OS), Duty cycle (DC), Delay time (DL).\n  - Output variables: Square wave state (Q), Current output value (Out).\n  - Internal variables: Current time (tx), Last time (last), Initialization flag (init).\n\n- Main Logic\n  -- REGION Initialization Check\n     First, the code checks if the duty cycle (DC) is 0 or 1. If it is 0, the output is set to the minimum value (-AM * 0.5 + OS), and Q is set to FALSE. If it is 1, the output is set to the maximum value (AM * 0.5 + OS), and Q is set to TRUE. In both cases, the code returns immediately without executing further logic.\n\n  -- REGION Parameter Processing\n     Next, the code processes the delay time (DL) and duty cycle (DC) to ensure their values are between 0 and 1. If a parameter is less than 0, it is adjusted to 1 minus the value. This is achieved using the MODR function, which performs modulo operations.\n\n  -- REGION Initialization\n     If the function block has not been initialized (init is FALSE), initialization is performed. The init flag is set to TRUE, and the current time (last) and initialization time (tx) are recorded.\n\n  -- REGION Period Check\n     The code checks if the current time (tx) exceeds the period time (PT). If it does, the last time (last) is updated, and the current time (tx) is reset. This ensures time calculations remain within the period.\n\n  -- REGION Square Wave Generation\n     Based on the delay time (DL) and duty cycle (DC), the code generates the square wave signal. If the sum of the delay time and duty cycle exceeds the period time, the rising and falling edges of the square wave are adjusted according to time. Otherwise, the edges are generated directly based on the delay time and duty cycle.\n     - If the current time (tx) is greater than or equal to the sum of the delay time and duty cycle minus the period time, the output is set to the minimum value (-AM * 0.5 + OS), and Q is set to FALSE.\n     - If the current time (tx) is greater than or equal to the delay time, the output is set to the maximum value (AM * 0.5 + OS), and Q is set to TRUE.\n     - If the sum of the delay time and duty cycle does not exceed the period time, the rising and falling edges of the square wave are generated directly based on the delay time and duty cycle.\n\n- Summary\n  This function block generates a configurable square wave signal using parameters such as period time, amplitude, offset, duty cycle, and delay time. Through time calculations and conditional checks, the code ensures the generated square wave meets the requirements specified by the input parameters.", "name": "GEN_SQR"}