Natural Language Requirements:  
{"variables": [], "instructions": [], "planning": "- Overview\nThis code defines a function named `DIR_TO_DEG`, which converts a direction string into its corresponding angle value. The function determines the index of the direction string by referencing a predefined language-specific direction table and then calculates the angle value based on that index.\n\n- Variable Definitions\nThe code includes the following types of variables:\n - Input variables: `DIR` represents the direction string, and `L` represents the language index.\n - Local variables: `ly` stores the final language index to be used, and `i` is used as a loop counter to traverse the direction table.\n\n- Main Logic\n-- REGION Language Index Determination\n   First, the function checks if the input language index `L` is 0. If so, it uses the default language index `LANGUAGE.DEFAULT`; otherwise, it uses the smaller value between `L` and `LANGUAGE.LMAX` as the language index. This step ensures the language index remains within a valid range.\n-- REGION Direction Lookup\n   Next, the function uses a `FOR` loop to traverse the predefined direction table `language.DIRS`. The loop runs from 0 to 15, checking whether the direction string at the current language index `ly` and loop variable `i` matches the input `DIR`. If a match is found, the loop exits.\n-- REGION Angle Calculation\n   After finding the matching direction string, the function calculates the corresponding angle value. First, it multiplies the loop variable `i` by 45, adds 1, and then uses a right-shift operation (`SHR`) to divide the result by 2, yielding the final angle value `DIR_TO_DEG`.\n-- REGION Function Return\n   The function ultimately returns the calculated angle value `DIR_TO_DEG`.\n\nSummary: The `DIR_TO_DEG` function converts an input direction string into its corresponding angle value by referencing a predefined direction table. It first determines the appropriate language index, then searches the direction table for a matching string, and finally computes and returns the corresponding angle value.", "name": "DIR_TO_DEG"}