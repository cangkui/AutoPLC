Natural Language Requirements:  

{"variables": [], "instructions": [], "planning": "- Overview\nThis function, named `FSTRING_TO_WEEKDAY`, is designed to convert a string representing a day of the week into its corresponding integer value. The function supports multilingual processing and selects the appropriate language resource for comparison based on the input language parameter.\n\n- Variable Definitions\nThe code defines the following types of variables:\n - Input variables: `WDAY` (a string representing the day of the week), `LANG` (language code).\n - Internal variables: `tmp` (temporarily stores the processed string), `i` (loop counter), `ly` (the actual language code used).\n\n- Main Logic\n-- REGION Language Selection\n   The function first selects the appropriate language resource based on the input language parameter `LANG`. If `LANG` is 0, the default language is used; otherwise, the smaller value between `LANG` and the maximum language code `LANGUAGE.LMAX` is used. This ensures the language code falls within a valid range.\n\n-- REGION String Processing\n   Next, the function processes the input string `WDAY`:\n   - Uses the `TRIM` function to remove leading and trailing spaces.\n   - Converts the string to lowercase using `LOWERCASE`, then capitalizes the first letter with `CAPITALIZE`. This ensures the string format matches the format in the language resources.\n\n-- REGION Weekday Matching\n   The function loops through values 1 to 7 (representing Monday to Sunday) and compares the processed string `tmp` with the corresponding entry in the language resource `language.WEEKDAYS2`. If a match is found, it returns the integer value `i`.\n\n-- REGION Default Handling\n   If no match is found after the loop, the function attempts to directly convert the input string `WDAY` to an integer and returns it. This serves as a fallback mechanism for cases where no match is possible.\n\n- Output Result\nThe function returns an integer representing the day of the week. If a match is successful, it returns a value between 1 and 7; otherwise, it returns the result of converting the string to an integer.", "name": "FSTRING_TO_WEEKDAY"}