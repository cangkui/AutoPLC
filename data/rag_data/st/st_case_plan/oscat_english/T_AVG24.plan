Natural Language Requirements:  
{"variables": [], "instructions": [], "planning": "- Overview\n  The function block `T_AVG24` is used to calculate the average, maximum, and minimum temperatures over a 24-hour period. It samples input temperature values and uses a filter and time intervals to control the sampling and calculation process. The function block also supports reset, scaling, and offset functionalities.\n\n- Variable Definitions\n  The code defines the following types of variables:\n  - Input variables: Temperature sample value (TS), date-time input (DTI), reset signal (RST), filter time (T_FILTER), scaling factor (SCALE), and offset value (OFS).\n  - Output variables: Temperature average (TA) and trigger pulse (TP).\n  - Input/output variables: 24-hour temperature average (T24), 24-hour maximum temperature (T24_MAX), and 24-hour minimum temperature (T24_MIN).\n  - Internal variables: Sample array (samples), sample position (pos), initialization flag (init), filter instance (ft1), sum (sum), and last processing time (last).\n  - Temporary variables: Temporary maximum (tmp_max), temporary minimum (tmp_min), and loop counter (i).\n\n- Main Logic\n  -- REGION Filter Processing\n    First, the input temperature sample value `TS` is filtered using the filter `ft1`. The filter's time constant is controlled by `T_FILTER`, and the filtered value is stored in `ft1.Y`.\n\n  -- REGION Initialization Logic\n    If the reset signal `RST` is true or the function block has not been initialized (`init` is false), initialization is performed. The initialization process includes:\n    - If `T24` is -1000.0, it is initialized to 0.1 times the filtered temperature value.\n    - All elements in the `samples` array are initialized to 10 times the value of `T24`.\n    - `sum` is initialized to 48 times the value of `samples[0]`.\n    - The current temperature average `TA` and 24-hour temperature average `T24` are calculated and output.\n    - The trigger pulse `TP` is set to true, indicating the calculation is complete.\n\n  -- REGION Sampling and Calculation Logic\n    If the minute part of the current time `DTI` modulo 30 is 0 and `DTI` is greater than the last processing time `last`, sampling and calculations are performed. The steps are as follows:\n    - Update `last` to the current time plus 1 minute.\n    - Subtract the old sample value at position `pos` from `sum`.\n    - Store the filtered temperature value `ft1.Y` in `samples[pos]`.\n    - Add the new sample value to `sum`.\n    - Update the sample position `pos` using the `OSCAT_BASIC.INC1` function to ensure `pos` cycles between 0 and 47.\n    - Calculate and output the current temperature average `TA` and 24-hour temperature average `T24`.\n    - Traverse the `samples` array to calculate the 24-hour maximum temperature `T24_MAX` and minimum temperature `T24_MIN`.\n    - Set the trigger pulse `TP` to true, indicating the calculation is complete.\n\n  -- REGION No-Operation Logic\n    If the above conditions are not met, the trigger pulse `TP` is set to false, indicating no new calculation operation has been performed.\n\n- Output Results\n  The function block outputs include:\n  - `TA`: Current temperature average, after scaling and offset adjustments.\n  - `TP`: Trigger pulse, indicating whether a new calculation operation has been completed.\n  - `T24`: 24-hour temperature average, after scaling and offset adjustments.\n  - `T24_MAX`: 24-hour maximum temperature, after scaling and offset adjustments.\n  - `T24_MIN`: 24-hour minimum temperature, after scaling and offset adjustments.", "name": "T_AVG24"}