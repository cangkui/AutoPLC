Natural Language Requirements:  
{"variables": [], "instructions": [], "planning": "- Overview\nThis function block, named `INTERLOCK_4`, is used to control output signals based on input signals and modes. It supports four different modes, each processing input signals differently. The function block also provides a trigger pulse (TP) output to indicate changes in the output signal.\n\n- Variable Definitions\nThe code defines the following types of variables:\n  - Input variables: `I0`, `I1`, `I2`, `I3` are four Boolean input signals; `E` is the enable signal; `MODE` is the mode selection signal.\n  - Output variables: `OUT` is the byte output signal; `TP` is the trigger pulse signal.\n  - Internal variables: `in` is the byte representation of the current input signals; `last` is the previous input signal; `old` is the previous output signal; `lmode` is the previous mode.\n\n- Main Logic Section\n  -- REGION Enable Logic\n     - If the enable signal `E` is true, the following logic is executed:\n       1. **Mode Switching Handling**: If the current mode `MODE` differs from the previous mode `lmode`, reset the output signals `OUT`, `last`, and `old`, and update `lmode` to the current mode.\n       2. **Input Signal Update**: Combine the four Boolean input signals `I0`, `I1`, `I2`, `I3` into a byte `in`.\n       3. **Input Signal Change Handling**: If the current input signal `in` differs from the previous input signal `last`, process the input signals based on the current mode `MODE` and update the output signal `OUT`.\n          - **Mode 0**: Directly assign the input signal `in` to the output signal `OUT`.\n          - **Mode 1**: Process input signals by priority, where `I3` has the highest priority, followed by `I2`, then `I1`, and `I0` has the lowest. If a higher-priority signal is true, lower-priority signals are ignored.\n          - **Mode 2**: Detect rising edges of input signals and process them by priority. The output signal `OUT` is updated only when an input signal transitions from false to true.\n          - **Mode 3**: Process input signals by priority, provided there is no conflict between the output signal `OUT` and the input signal `in`. If certain bits of `OUT` and `in` are both true, the output signal is not updated.\n       4. **Trigger Pulse Generation**: If the output signal `OUT` differs from the previous output signal `old`, set the trigger pulse signal `TP` to true; otherwise, set it to false. Update `old` to the current output signal `OUT`.\n     - If the enable signal `E` is false, reset all outputs and internal variables, and set the trigger pulse signal `TP` to false.", "name": "INTERLOCK_4"}