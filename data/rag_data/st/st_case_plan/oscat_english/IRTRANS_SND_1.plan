Natural Language Requirements:  
{"variables": [], "instructions": [], "planning": "- Overview\nThis code is a function block written in SCL, named 'IRTRANS_SND_1', designed to send signals via an infrared device. It processes inputs such as device codes and key codes, and transmits data through a network buffer.\n\n- Variable Definitions\nThe code defines the following types of variables:\n - Input variables: Device code (DEV_CODE), key code (KEY_CODE), input signal (IN), repeat time (T_REPEAT)\n - Input/output variables: IP control structure (IP_C), network buffer (S_BUF)\n - Output variables: Key value (KEY)\n - Internal variables: Key string (skey), string length (size), concatenated string (str), timer (t), current key value (k), previous key value (lk), condition flag (d)\n\n- Main Logic Section\n-- REGION Condition Check\n   First, it checks whether the current state of the IP control structure is greater than 127 and whether there is data in the mailbox or the control mode is not equal to 5. If the conditions are not met, the function returns immediately without executing further logic.\n-- REGION Timer Handling\n   If the previous key value is the same as the current key value, the timer (TON) is started with the preset time set to the input repeat time (T_REPEAT).\n-- REGION Network Buffer Handling\n   If the size of the network buffer is 0, it checks whether the input signal (IN) is true. If true, it assigns the key code to skey and sets the current key value (k) to 1. If the input signal is false, it resets the previous key value (lk) and the output key value (KEY) to 0 and returns.\n   If the previous key value differs from the current key value, or if the timer (TON) output is true, it concatenates the device code and key code to generate a transmission string. The OSCAT_BASIC._STRING_TO_BUFFER function is used to write the string to the network buffer, and the buffer size is set. Finally, the current key value (k) is assigned to the previous key value (lk), and the timer is stopped.", "name": "IRTRANS_SND_1"}