{"variables": [], "instructions": [], "planning": "- 概述\n  这是一个简单的功能块 `A_TRIG`，用于检测输入信号 `IN` 的变化是否超过给定的阈值 `RES`。如果变化超过阈值，输出 `Q` 会置为 `TRUE`，并且输出 `D` 会显示当前输入与上一次输入的差值。该功能块通常用于检测信号的上升沿或下降沿。\n\n- 变量定义\n  代码中定义了以下几类变量：\n  - 输入变量：`IN` 表示当前输入信号，`RES` 表示检测阈值。\n  - 输出变量：`Q` 表示是否检测到变化，`D` 表示当前输入与上一次输入的差值。\n  - 内部变量：`last_in` 用于存储上一次的输入值。\n\n- 主逻辑部分\n  -- REGION 主逻辑\n    1. **计算差值**：首先计算当前输入 `IN` 与上一次输入 `last_in` 的差值，并将结果赋值给 `D`。\n    2. **检测变化**：判断差值的绝对值是否大于阈值 `RES`。如果大于，则将输出 `Q` 置为 `TRUE`，表示检测到了变化；否则，`Q` 为 `FALSE`。\n    3. **更新上一次输入**：如果检测到变化（即 `Q` 为 `TRUE`），则将当前输入 `IN` 的值存储到 `last_in` 中，以便在下一个周期中使用。\n    4. **重新计算差值**：为了确保 `D` 的值是最新的，再次计算 `IN` 与 `last_in` 的差值，并更新 `D`。\n\n  该功能块的逻辑非常简单，主要用于检测输入信号的变化，并在变化超过阈值时触发输出。通过 `last_in` 变量的使用，功能块能够记住上一次的输入值，从而实现变化检测。", "name": "A_TRIG"}