

以下是箱线图计算功能的算法思维链分解：

1. 执行边沿检测
- 检测execute的上升沿触发计算
- 获取数组索引范围：通过LOWER_BOUND/UPPER_BOUND获取维度1的边界
- 初始化统计变量：重置所有中间计算结果和状态标志

2. 参数有效性验证（前置校验）
- 检查rangeOutlier有效性：必须>1.0或=0.0
- 验证数组下界：不允许负索引
- 错误处理：设置对应状态码（16#9101/16#8200）

3. 数据预处理
- 调用Shell排序算法：通过LGF_Shell_DInt对输入数组进行原地排序
- 获取极值：排序后首尾元素即为原始min/max

4. 核心统计量计算
- 中位数计算：
  * 偶元素数：中间两元素平均值
  * 奇元素数：正中元素值
- 四分位数计算（线性插值法）：
  * Q25位置：(n+3)/4 
  * Q75位置：(3n+1)/4
  * 通过TRUNC和FRAC_LREAL实现插值计算

5. 离群值检测（当rangeOutlier≠0时）
- 计算四分位距：IQR = Q75 - Q25
- 确定边界：
  * 下边界：Q25 - rangeOutlier×IQR
  * 上边界：Q75 + rangeOutlier×IQR
- 双向扫描：
  * 正向扫描找首个≥下边界的元素（新min）
  * 逆向扫描找最后一个≤上边界的元素（新max）
  * 计算离群比例：离群元素数/总数×100%

6. 偏度计算
- 公式：(Q75 + Q25 - 2×Median) / IQR
- 反映数据分布对称性：正值右偏，负值左偏

7. 结果输出与状态管理
- 动态输出选择：根据rangeOutlier是否为零选择原始/调整后的极值
- 错误状态映射：将最高位错误标志映射到error输出
- 强制使能输出：始终设置ENO=True，通过独立状态码管理错误

关键设计特点：
1. 内存优化：通过IN_OUT参数实现原地排序，避免数据拷贝
2. 边界处理：严格校验数组索引合法性，防止越界访问
3. 浮点精度：全程使用LReal类型计算保证统计精度
4. 性能优化：单向扫描确定离群值范围，时间复杂度O(n)