# Sawtooth Signal Generator 算法流程分析

## 任务类型判断
这是一个数据处理任务，用于生成锯齿波信号。

## 算法流程

1. **获取采样时间**：
   - 调用QRY_CINT函数获取当前循环中断OB的周期时间和相位信息
   - 检查返回值状态：
     - 如果返回错误状态码，设置错误标志和状态码，返回零值
     - 如果OB不可用，设置相应错误标志和状态码，返回零值

2. **重置处理**：
   - 如果reset输入为TRUE：
     - 重置内部计数器statCounter为0
     - 设置临时输出值为0

3. **计数器更新**：
   - 将采样时间转换为秒单位
   - 增加内部计数器statCounter的值
   - 对计数器值进行模运算，确保在周期范围内

4. **相位偏移计算**：
   - 计算考虑相位偏移后的实际相位值
   - 使用模运算确保相位在周期范围内

5. **锯齿波计算**：
   - 使用线性公式计算锯齿波当前值：
     - 斜率(SLOPE) * 振幅(amplitude) / 周期(periode) * 相位偏移 - 振幅
   - 加上偏移量(offset)得到最终输出值

6. **输出设置**：
   - 设置输出value为计算值
   - 设置错误标志为FALSE
   - 设置状态码为无错误状态

## 注意事项
- 该算法依赖于循环中断OB的调用周期
- 使用模运算确保所有计算值在周期范围内
- 错误处理优先于信号生成逻辑