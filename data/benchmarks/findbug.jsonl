{"title": "LLCCA_TimeLag", "description": "This function block LLCCA_TimeLag is used to delay the output value by an adjustable time. It takes an input value (in), an initialization signal (init) to set the time lag memory to the input value, and a reset signal (reset) to set the time lag memory to 0.0 as input parameters. The time lag duration can be adjusted through the timeLag in/out variable. Based on the input signals and the current time lag setting, it saves the input values in an array and outputs a value that is delayed according to the time lag configuration. If the time lag is set to 0, the output is equal to the input.", "type": "FUNCTION_BLOCK", "name": "LLCCA_TimeLag", "input": [{"name": "in", "type": "Real", "description": "input value"}, {"name": "init", "type": "Bool", "description": "time lag memory = in"}, {"name": "reset", "type": "Bool", "description": "time lag memory = 0.0"}], "output": [{"name": "out", "type": "Real", "description": "output value"}], "in/out": [{"name": "timeLag", "type": "USInt", "description": "time lag [s]", "default": 10}], "return_value": []}
{"title": "Backup", "description": "This function block Backup is used for backup and restore operations of data blocks. It defines two user-defined data types (backupMainHeaderUDT and backupBLKHeaderUDT) for control parameters. The function block takes an identification number (Nr) and a timestamp (timestamp) as input. It uses in/out variables including main_header (containing main control parameters), BLK_header (containing control parameters for the current block), and DB_BLK (a reference to the data block to be backed up or restored). The block manages backup and restore processes separately. In the backup process, it checks conditions to start or stop saving a block, writes data to the block, updates counters, and reports status using an alarm function. In the restore process, it initializes the restore counter, starts or stops reading a block when conditions are met, reads data from the block, updates counters, and also reports status via an alarm function.", "type": "FUNCTION_BLOCK", "name": "Backup", "input": [{"name": "Nr", "type": "Int", "description": "Identifies the current block that is being processed"}, {"name": "timestamp", "type": "LDT", "description": "Timestamp for the backup or restore action"}], "output": [], "in/out": [{"name": "main_header", "type": "Struct", "description": "Contains the main control parameters for the process", "fields": [{"name": "save", "type": "Bool", "description": "Starts the backup process if TRUE"}, {"name": "restore", "type": "Bool", "description": "Starts the restore process if TRUE"}, {"name": "wr_counter", "type": "Int", "description": "Counter for the number of completed write operations"}, {"name": "rd_counter", "type": "Int", "description": "Counter for the number of completed read operations"}, {"name": "last_BLK", "type": "Int", "description": "Indicates the number of the last block that should be processed"}]}, {"name": "BLK_header", "type": "Struct", "description": "Contains the control parameters for the current block", "fields": [{"name": "save", "type": "Bool", "description": "Indicates whether the current block should be saved"}, {"name": "restore", "type": "Bool", "description": "Indicates whether the current block should be restored"}, {"name": "write", "type": "Bool", "description": "Starts the write operation if TRUE"}, {"name": "wr_busy", "type": "Bool", "description": "Indicates whether the write operation is currently running"}, {"name": "wr_process", "type": "Bool", "description": "Indicates that the write process is active"}, {"name": "wr_done", "type": "Bool", "description": "Indicates that the write operation is completed"}, {"name": "wr_ret", "type": "Int", "description": "Return value of the write operation, e.g., error codes"}, {"name": "wr_ret_mem", "type": "Int", "description": "Temporary storage of the last return value"}, {"name": "read", "type": "Bool", "description": "Starts the read operation if TRUE"}, {"name": "rd_busy", "type": "Bool", "description": "Indicates whether the read operation is currently running"}, {"name": "rd_process", "type": "Bool", "description": "Indicates that the read process is active"}, {"name": "rd_done", "type": "Bool", "description": "Indicates that the read operation is completed"}, {"name": "rd_ret", "type": "Int", "description": "Return value of the read operation, e.g., error codes"}, {"name": "rd_ret_mem", "type": "Int", "description": "Temporary storage of the last return value"}]}, {"name": "DB_BLK", "type": "Variant", "description": "Reference to the data block to be backed up or restored"}],"return_value": [], "userDefinedTypes": [{"name": "backupMainHeaderUDT", "description": "User-defined data type for main control parameters of the backup/restore process"}, {"name": "backupBLKHeaderUDT", "description": "User-defined data type for control parameters of a single block in the backup/restore process"}]}